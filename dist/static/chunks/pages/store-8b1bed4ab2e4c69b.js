(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[829],{77075:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/store",function(){return e(90184)}])},39594:function(n,t,e){"use strict";e.d(t,{_q:function(){return f}});var r=e(47568),i=e(26042),c=e(69396),a=e(70655),s=e(93698),o=e(34155),u=function(){var n=(0,r.Z)((function(){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return n={},o.env.FEATURED_PRODUCTS?n.id=o.env.FEATURED_PRODUCTS:n.limit=3,[4,s.pZ.products.list(n).then((function(n){return n.products})).catch((function(n){return[]}))];case 1:return[2,t.sent()]}}))}));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)((function(){var n,t,e;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return n=0,[4,s.pZ.collections.list({limit:15}).then((function(t){var e=t.collections,r=t.count;return n=r,e})).catch((function(n){}))];case 1:return t=r.sent(),[4,u()];case 2:return e=r.sent(),[2,{navData:{hasMoreCollections:n>15,collections:(null===t||void 0===t?void 0:t.map((function(n){return{id:n.id,title:n.title}})))||[],featuredProducts:e}}]}}))}));return function(){return n.apply(this,arguments)}}(),d=(function(){var n=(0,r.Z)((function(){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,l()];case 1:return[2,{site:n.sent()}]}}))}))}(),function(){var n=(0,r.Z)((function(n){var t,e;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return[4,s.pZ.products.list({handle:n}).then((function(n){return n.products}))];case 1:if(t=r.sent(),!(e=t[0]))throw new Error("Product with handle ".concat(n," not found"));return[2,{page:{data:e}}]}}))}))}(),function(){var n=(0,r.Z)((function(n){return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,s.pZ.products.list({collection_id:[n],limit:10}).then((function(n){var t=n.products,e=n.count;return{initialProducts:t,count:e,hasMore:e>10}})).catch((function(n){return{initialProducts:[],count:0,hasMore:!1}}))];case 1:return[2,t.sent()]}}))}));return function(t){return n.apply(this,arguments)}}()),f=(function(){var n=(0,r.Z)((function(n){var t,e,r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return[4,l()];case 1:return t=i.sent(),[4,s.pZ.collections.retrieve(n).then((function(n){return n.collection})).catch((function(){}))];case 2:if(!(e=i.sent()))throw new Error("Collection with handle ".concat(n," not found"));return[4,d(n)];case 3:return r=i.sent(),[2,{page:{data:e,additionalData:r},site:t}]}}))}))}(),function(){var n=(0,r.Z)((function(n){var t,e,r,o,u,l,d;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=n.pageParam,e=void 0===t?0:t,r=n.queryParams,[4,s.pZ.products.list((0,c.Z)((0,i.Z)({limit:12,offset:e},r),{sales_channel_id:["sc_01H038FHAYEEG7X1PT3WNYV45E"]}))];case 1:return o=a.sent(),u=o.products,l=o.count,d=o.offset,[2,{response:{products:u,count:l},nextPage:l>d+12?d+12:null}]}}))}));return function(t){return n.apply(this,arguments)}}())},90184:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return N}});var r=e(85893),i=e(63269),c=e(18481),a=e(26042),s=e(39594),o=e(42984),u=e(217),l=e(61692),d=e(38948),f=e(15986),h=e(20697),p=e(67294),m=e(97650),v=e(59403),x=function(n){var t=n.params,e=(0,h.jD1)().cart,i=(0,m.YD)(),c=i.ref,x=i.inView,g=(0,p.useMemo)((function(){var n={};return(null===e||void 0===e?void 0:e.id)&&(n.cart_id=e.id),n.is_giftcard=!1,(0,a.Z)({},n,t)}),[null===e||void 0===e?void 0:e.id,t]),_=(0,v.N)(["infinite-products-store",g,e],(function(n){var t=n.pageParam;return(0,s._q)({pageParam:t,queryParams:g})}),{getNextPageParam:function(n){return n.nextPage}}),Z=_.data,j=_.hasNextPage,w=_.fetchNextPage,N=_.isLoading,P=_.isFetchingNextPage,y=(0,o.Z)({pages:null===Z||void 0===Z?void 0:Z.pages,region:null===e||void 0===e?void 0:e.region});return(0,p.useEffect)((function(){x&&j&&w()}),[x,j]),(0,r.jsxs)("div",{className:"flex-1 content-container",children:[(0,r.jsxs)("ul",{className:"grid grid-cols-2 small:grid-cols-3 medium:grid-cols-4 gap-x-4 gap-y-8 flex-1",children:[y.map((function(n){return(0,r.jsx)("li",{children:(0,r.jsx)(d.Z,(0,a.Z)({},n))},n.id)})),N&&!y.length&&(0,l.Z)(8).map((function(n){return(0,r.jsx)("li",{children:(0,r.jsx)(f.Z,{})},n)})),P&&(0,l.Z)((0,u.Z)(null===Z||void 0===Z?void 0:Z.pages)).map((function(n){return(0,r.jsx)("li",{children:(0,r.jsx)(f.Z,{})},n)}))]}),(0,r.jsx)("div",{className:"py-16 flex justify-center items-center text-small-regular text-gray-700",ref:c,children:(0,r.jsx)("span",{ref:c})})]})},g=e(69396),_=e(29815),Z=e(47156),j=function(n){var t=n.refinementList,e=n.setRefinementList,i=(0,Z.k)(),c=i.data;i.isLoading;return(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"px-8 py-4 small:pr-0 small:pl-8 small:min-w-[250px]",children:(0,r.jsxs)("div",{className:"flex gap-x-3 small:flex-col small:gap-y-3",children:[(0,r.jsx)("span",{className:"text-base-semi",children:"Collections"}),(0,r.jsx)("ul",{className:"text-base-regular flex items-center gap-x-4 small:grid small:grid-cols-1 small:gap-y-2",children:null===c||void 0===c?void 0:c.map((function(n){var i;return(0,r.jsx)("li",{children:(0,r.jsxs)("label",{className:"flex items-center gap-x-2",children:[(0,r.jsx)("input",{type:"checkbox",defaultChecked:null===(i=t.collection_id)||void 0===i?void 0:i.includes(n.id),onChange:function(r){return function(n,r){var i=n.target.checked,c=t.collection_id||[],s=c.includes(r);!i||s?i||!s||e((0,g.Z)((0,a.Z)({},t),{collection_id:c.filter((function(n){return n!==r}))})):e((0,g.Z)((0,a.Z)({},t),{collection_id:(0,_.Z)(c).concat([r])}))}(r,n.id)},className:"accent-amber-200"}),n.title]})},n.id)}))})]})})})},w=function(){var n=(0,p.useState)({}),t=n[0],e=n[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{title:"Store",description:"Explore all of our products."}),(0,r.jsxs)("div",{className:"flex flex-col small:flex-row small:items-start py-6",children:[(0,r.jsx)(j,{refinementList:t,setRefinementList:e}),(0,r.jsx)(x,{params:t})]})]})};w.getLayout=function(n){return(0,r.jsx)(c.Z,{children:n})};var N=w}},function(n){n.O(0,[652,504,673,632,700,774,888,179],(function(){return t=77075,n(n.s=t);var t}));var t=n.O();_N_E=t}]);